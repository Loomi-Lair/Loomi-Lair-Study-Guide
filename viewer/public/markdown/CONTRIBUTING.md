# LoomiLair - 前端代码规范

## 1. 总体原则

LoomiLair 是一个前端学习与协作空间。所有代码都应**简洁、统一、可读、可维护**。

> 原则：让任何新成员能在 5 分钟内理解你的文件在干什么。

------

## 2. 结构要求

- 模块职责要清晰，**一个文件只干一件事**。
- **不要随意混放组件与逻辑**：展示逻辑放组件里，业务逻辑放 composable 里。
- 文件超过 300 行或组件逻辑过多时，应拆分子组件或函数。
- 禁止在 `/components` 里出现个人实验文件；所有个人练习代码放 `/members` 下。

------

## 3. 命名规范

| 类型            | 格式                                             | 示例                         |
| --------------- | ------------------------------------------------ | ---------------------------- |
| 组件文件        | PascalCase（大驼峰，所有词首字母大写）           | `HomeSection.vue`            |
| 普通变量 / 函数 | camelCase（小驼峰，首词小写，其他词首字母大写）  | `isVisible`, `fetchUserData` |
| 文件夹          | kebab-case（单词小写，词间用减号 `-` 连接）      | `user-profile/`              |
| 常量            | UPPER_SNAKE_CASE （全大写，词间用下划线 `_` 连接） | `API_BASE_URL`               |
| 路由路径        | kebab-case（单词小写，词间用减号 `-` 连接）      | `/about`, `/user-page`       |

> 只要你的命名需要写比代码还长的注释，才能让别人看懂你在干什么——那命名就不够好。

------

## 4. 结构与可读性

### （1）文件布局顺序

组件 `.vue` 文件应按以下顺序书写：

1. `<template>`
2. `<script setup lang="ts">`
3. `<style scoped>`

> 避免交叉或重复 `<style>`；如样式复杂，应单独拆出 CSS 文件。

### （2）逻辑块分组

- 逻辑按功能区块排列（例如状态、方法、监听器、生命周期）。

- 每个区块前用简短中文注释标明：

  ```vue
  // ===== 状态管理 =====
  const count = ref(0)
  
  // ===== 事件处理 =====
  const increment = () => count.value++
  ```

------

## 5. 注释规范

- 所有注释**必须为中文**，简明说明“为什么要这样做”，而不是“代码在干什么”。

- 示例：

  ```vue
  // 由于移动端加载性能问题，初始时不渲染动画组件
  const shouldRenderAnimation = ref(false)
  ```

------

## 6. 样式规范

- 全局字体：

  ```css
  font-family: "San Francisco", "Open Sans", "思源黑体 CN", "Noto Sans SC", "Source Han Sans CN", sans-serif;
  ```

- 背景色：`#fafafa`；文字颜色：`#222`

- 优先使用 Flex / Grid 实现布局。

- 动画建议使用 `transition: all 0.3s ease;`。

### 文字与标点规范

所有内容（包括代码与文档）必须遵循以下规则，以保持中英文混排时的统一与可读性：

1. **半角标点使用规则**

   - 所有代码中的标点符号均使用**半角**（即英文状态下的标点）。
   - 中文与半角标点之间需添加一个空格。
      例如：
      推荐写法：`这是一段示例 text, 包含中英文。`
      错误写法：`这是一段示例text，包含中英文。`

2. **文档书写要求（Markdown、说明文档等）**

   - 所有文档内容（如 `.md`、`.txt`、`.rst` 文件）也需遵循以上半角标点与空格规范。
     - 在 Markdown 中英文混排时保持视觉整齐，不得省略空格。

3. **例外情况**
    在中文文档中，下列符号可按中文习惯书写，且两侧**不需要添加空格**：

   - 直角引号：「」『』
   - 书名号：《》
   - 顿号（、）

   示例：
    「LoomiLair」是一个前端协作平台。

4. **代码中禁止使用上述中文符号**

   - 禁止在代码中使用「」『』《》顿号等全角或中文符号。
   - 推荐替代方案：
     - 使用撇号或双撇号 `' '` / `" "`
     - 使用尖括号 `< >`
     - 使用星号 `* *` 或半角逗号 `,`

5. **提交与说明例外**

   - 在 Commit Message、PR 标题、Git 命令等英文场景中，不强制遵守上述空格与半角要求，可根据英文语法自然书写。

------

## 7. 优先级原则

```
功能完整性 > 代码可读性 > 视觉一致性 > 个人偏好
```

# LoomiLair - Git 提交与 PR 流程规范

## 1. 提交消息规范

为了保持提交历史清晰、统一、易于审查，所有提交（commit）必须遵循以下格式：

```
<类型>[可选 范围]: <简要描述>

[可选 正文]

[可选 脚注]
```

#### 说明：

- **类型（type）**：说明这次提交的目的或类别；
- **范围（scope）**（可选）：指明影响的模块；
- **描述（description）**：一句话说明本次更改的核心内容（**必须填写**）。

> ⚠️ 所有提交都必须包含非空的 description。
>  即使改动极小，也需写简短说明，否则 PR 将无法通过 Review。
>  （例：`fix: 修复导航栏点击事件逻辑错误`）

> 提交的信息可以使用中文或**规范的**英文。

---

## 2. 类型（type）说明

| 类型         | 含义                                               |
| ------------ | -------------------------------------------------- |
| **feat**     | 添加新功能                                         |
| **fix**      | 修复 bug                                           |
| **docs**     | 文档更改（README、指南等）                         |
| **style**    | 不影响功能的代码格式修改（空格、缩进、缺少分号等） |
| **refactor** | 既非新增功能也非修复 bug 的代码重构                |
| **perf**     | 性能优化                                           |
| **test**     | 添加或修改测试                                     |
| **build**    | 修改构建系统或依赖项                               |
| **ci**       | 修改 CI 配置文件或脚本                             |
| **chore**    | 其他不修改 src 或测试文件的更改                    |
| **revert**   | 撤销之前的提交                                     |

---

## 3. 提交示例

```
feat: 添加新成员 alice
```

> 添加成员 alice 的个人信息与链接。

```
fix: 更正 bob 的 avatar URL
```

> 修复成员头像链接错误。

```
docs: 更新 README 中的加入指南
```

> 文档更新。

---

## 4. Pull Request 流程

1. **创建分支**
    每次功能或修复请从 `main` 拉取新分支：

   ```bash
   git checkout -b feat/<分支名>
   ```

   分支命名格式建议：

   ```
   <type>/<简短描述-英文小写>
   ```

   例如：

   ```
   feat/home-layout
   fix/header-style
   docs/update-readme
   ```

2. **提交更改**
    使用规范的 commit message：

   ```bash
   git add .
   git commit -m "feat: 新增主页导航栏"
   ```

3. **推送并发起 PR**

   ```bash
   git push origin feat/home-layout
   ```

   然后在 GitHub 上发起 Pull Request。

4. **填写 PR 描述**
    每个 PR 必须包含：

   - 本次改动的简要说明；
   - 修改或新增的文件；
   - （如有）截图或预览链接；
   - Reviewer 可参考的说明（例如“只影响样式层，无逻辑改动”）。

5. **通过 Review 后合并**

   - Reviewer 确认通过后，可使用 **Squash and Merge**；
   - 合并后分支可删除。

---

## 5. 附加说明

- 即使 PR 仅修正小问题（如 typo、注释），仍需使用正确的 commit 类型（`docs` 或 `chore`）。

- 请勿在同一提交中混合功能更新与格式修改。

- 所有 commit 通过 lint 检查后再提交：

  ```bash
  bun lint
  ```
